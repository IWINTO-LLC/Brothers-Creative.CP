# نظام إدارة المشاريع - Brother Admin Panel

## نظرة عامة
تم إنشاء نظام متكامل لإدارة المشاريع في لوحة التحكم، يتيح عرض المشاريع وتعديل الحقول المحددة.

## الميزات الرئيسية

### 1. عرض المشاريع
- **بطاقات المشاريع**: عرض المشاريع في شكل بطاقات جميلة
- **معلومات البطاقة**: اسم المشروع، اسم العميل، حالة المشروع
- **تصميم متجاوب**: يعمل على جميع أحجام الشاشات

### 2. تفاصيل المشروع
- **معلومات كاملة**: عرض جميع تفاصيل المشروع
- **معلومات العميل**: اسم العميل المستخرج من قاعدة البيانات
- **معلومات إضافية**: الكمية، المدينة، البلد، التكلفة المدفوعة

### 3. التعديل المحدود
يمكن تعديل الحقول التالية فقط:
- **CurrentStage** (المرحلة الحالية)
- **Cost** (التكلفة)
- **DeadLineDate** (تاريخ الانتهاء)
- **State** (حالة المشروع)

## الملفات المطلوبة

### Controllers
- `lib/features/dashboard/controllers/project_controller.dart`

### Screens
- `lib/features/dashboard/screens/projects_screen.dart` - الشاشة الرئيسية
- `lib/features/dashboard/screens/project_detail_screen.dart` - تفاصيل المشروع

### Widgets
- `lib/features/dashboard/widgets/project_card.dart` - بطاقة المشروع

### Models & Repositories
- `lib/data/models/project_model.dart` - نموذج المشروع
- `lib/data/repositories/project/project_repository.dart` - مستودع المشاريع

### Bindings
- `lib/bindings/generate_binding.dart` - تم تحديثه لإضافة ProjectController

## كيفية الاستخدام


### 2. عرض تفاصيل مشروع
```dart
// الانتقال إلى تفاصيل المشروع
Get.to(() => ProjectDetailScreen(project: project));
```

### 3. تعديل المشروع
```dart
// استخدام ProjectController
final projectController = Get.find<ProjectController>();
await projectController.updateProject();
```

## اختبار النظام

### 1. إنشاء مشروع تجريبي
- في شاشة المشاريع، اضغط على زر "إنشاء مشروع تجريبي"
- سيتم إنشاء مشروع تجريبي للاختبار
- يمكنك رؤية المشروع في القائمة فوراً

### 2. فحص البيانات
- افتح Console في Flutter DevTools
- ستظهر رسائل تفصيلية عن عملية جلب البيانات
- تأكد من أن البيانات يتم جلبها من Firebase

### 3. اختبار التعديل
- اضغط على مشروع لفتح صفحة التفاصيل
- عدّل الحقول القابلة للتعديل
- اضغط "حفظ التغييرات"

## التصميم والواجهة

### البطاقات الخارجية
- **اسم المشروع**: عنوان كبير مع أيقونة العمل
- **اسم العميل**: مع أيقونة الشخص
- **حالة المشروع**: ملونة حسب الحالة
- **المرحلة الحالية**: إذا كانت متوفرة
- **معلومات إضافية**: المدينة والتكلفة

### صفحة التفاصيل
- **معلومات أساسية**: اسم المشروع والوصف
- **معلومات العميل**: اسم العميل
- **الحقول القابلة للتعديل**: مع أيقونات التعديل
- **معلومات إضافية**: جميع البيانات الأخرى
- **أزرار الإجراءات**: حفظ وإلغاء

## الألوان والتصميم

### نظام الألوان
- **الأزرق**: للمشاريع والعناوين
- **الأخضر**: للعملاء والتكلفة
- **البرتقالي**: للحالة والتواريخ
- **البنفسجي**: للمراحل
- **الرمادي**: للمعلومات الإضافية

### الخطوط
- **IBM Plex Sans Arabic**: للعناوين والنصوص العربية
- **Urbanist**: للنصوص الإنجليزية

## قاعدة البيانات

### Collection: Projects
- `Id`: معرف المشروع (يتم إنشاؤه تلقائياً)
- `UId`: معرف العميل
- `Name`: اسم المشروع
- `Description`: وصف المشروع
- `Quantity`: الكمية
- `City`: المدينة
- `Country`: البلد
- `Cost`: التكلفة
- `CurrentPaied`: المدفوع
- `DateTime`: تاريخ الإنشاء
- `DeadLineDate`: تاريخ الانتهاء
- `State`: حالة المشروع
- `CurrentStage`: المرحلة الحالية

### Collection: Users
- `FirstName`: الاسم الأول
- `LastName`: الاسم الأخير

## الأمان والصلاحيات

### التحقق من المستخدم
- يتم التحقق من تسجيل دخول المستخدم
- يمكن للمستخدمين رؤية المشاريع الخاصة بهم فقط

### التعديل المحدود
- لا يمكن تعديل جميع الحقول
- فقط الحقول المحددة قابلة للتعديل
- يتم التحقق من صحة البيانات قبل الحفظ

## الأخطاء والاستثناءات

### معالجة الأخطاء
- **Firebase Exceptions**: معالجة أخطاء قاعدة البيانات
- **Network Errors**: معالجة أخطاء الشبكة
- **Validation Errors**: التحقق من صحة البيانات

### رسائل المستخدم
- **نجح**: عند حفظ التغييرات
- **خطأ**: عند حدوث مشكلة
- **تحميل**: أثناء العمليات

## التطوير المستقبلي

### ميزات مقترحة
- **إضافة مشروع جديد**: نموذج إنشاء مشروع
- **حذف المشاريع**: مع تأكيد الحذف
- **تصفية وبحث**: البحث في المشاريع
- **تصدير البيانات**: تصدير إلى Excel/PDF
- **الإشعارات**: تنبيهات للمواعيد النهائية

### تحسينات تقنية
- **Caching**: تخزين مؤقت للبيانات
- **Offline Support**: العمل بدون إنترنت
- **Real-time Updates**: تحديثات فورية
- **Analytics**: إحصائيات المشاريع

## الدعم والمساعدة

### للمطورين
- راجع الكود والتعليقات
- استخدم `kDebugMode` للطباعة
- تحقق من حالة Controllers
- راجع Console للرسائل التفصيلية

### للمستخدمين
- تأكد من صحة البيانات المدخلة
- استخدم أزرار الإلغاء عند الحاجة
- راجع التغييرات قبل الحفظ
- استخدم زر "إنشاء مشروع تجريبي" للاختبار

## الخلاصة

تم إنشاء نظام متكامل لإدارة المشاريع يوفر:
- عرض جميل ومتجاوب للمشاريع
- إمكانية تعديل محدودة للحقول المهمة
- واجهة مستخدم سهلة وبسيطة
- تكامل مع قاعدة البيانات Firebase
- معالجة شاملة للأخطاء
- أدوات اختبار وتطوير متقدمة

النظام جاهز للاستخدام ويمكن تطويره بسهولة لإضافة ميزات جديدة.
